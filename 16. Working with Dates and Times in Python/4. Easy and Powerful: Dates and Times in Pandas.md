# ==> Reading date and time data in Pandas
## --> loading datetimes w/ parse dates
- arg `parse_dates` in pd.read_csv() :
```py
rides = pd.read_csv('f.csv', 
                    parse_dates=['start_date','end_date'])
            
# give format
rides['start_date'] = pd.to_datetime(rides['start_date'],
                                     format = "%Y-%m-%d %H:%M:%S")
                                     
# select start_date for row 2
rides['start_date'].iloc[2]
```
# Loading a csv file in Pandas
- Import Pandas.
- Complete the call to read_csv() so that it correctly parses the date columns Start date and End date
```py
# Import pandas
import pandas as pd

# Load CSV into the rides variable
rides = pd.read_csv('capital-onebike.csv', 
                    parse_dates = ['Start date','End date'])

# Print the initial (0th) row
print(rides.iloc[0])
```
# Making timedelta columns
- Subtract the Start date column from the End date column to get a Series of timedeltas; assign the result to ride_durations.
- Convert ride_durations into seconds and assign the result to the 'Duration' column of rides.
```py
# Subtract the start date from the end date
ride_durations = rides['End date'] - rides['Start date']

# Convert the results to seconds
rides['Duration'] = ride_durations.dt.total_seconds()

print(rides['Duration'].head())
'''
0     181.0
1    7622.0
2     343.0
3    1278.0
4    1277.0
Name: Duration, dtype: float64
'''
```
# ==> Summarizing datetime data in Pandas
```py
# percent of time out of the dock
rides['Duration'].sum() / timedelta(days=91)

# how many times bike started at each station
rides['Member type'].value_counts()
# Member 236
# Casual 54

# percent of rides by member
rides['Member type'].value_counts() / len(rides)
# Member 0.814
# Casual 0.186

# Add 'duration s' column
rides['Duration seconds'] = rides['Duration'].dt.total_seconds()
# AVG duration per member type
rides.groupby('Member type')['Duration seconds'].mean()
# AVG duration by month
rides.resample('M', on= 'Start date')['Duration seconds'].mean() # resample('M') == "%m"

# size per group
rides.groupby('Member type').size()

# First ride per group
rides.groupby('Member type').first()
```
```py
rides\
    .resample('M', on='Start date')\
    ['Duration seconds']\
    .mean()\
    .plot()
```
<img src="https://user-images.githubusercontent.com/51888893/211021090-d380a486-5ad9-4b49-8f0b-706943bb36e7.png" width=400px>

# How many joyrides?
- Create a Pandas Series which is True when Start station and End station are the same, and assign the result to joyrides.
- Calculate the median duration of all rides.
- Calculate the median duration of joyrides.
```py
# Create joyrides
joyrides = (rides['Start station'] == rides['End station'])

# Total number of joyrides
print("{} rides were joyrides".format(joyrides.sum()))

# Median of all rides
print("The median duration overall was {:.2f} seconds"\
      .format(rides['Duration'].median()))

# Median of joyrides
print("The median duration for joyrides was {:.2f} seconds"\
      .format(rides[joyrides]['Duration'].median()))
'''
6 rides were joyrides
The median duration overall was 660.00 seconds
The median duration for joyrides was 2642.50 seconds
'''
```
