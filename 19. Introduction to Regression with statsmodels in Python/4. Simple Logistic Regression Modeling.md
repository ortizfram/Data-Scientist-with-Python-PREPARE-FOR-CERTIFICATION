# Exploring the explanatory variables
```py
# Create the histograms of time_since_last_purchase split by has_churned
sns.displot(x = 'time_since_last_purchase',
            col = 'has_churned',
            data = churn )

plt.show()
```
<img src="https://user-images.githubusercontent.com/51888893/211807354-a30be19d-5a92-4889-9e6e-9227773377d5.png" width=400px>

```py
# Draw a logistic regression trend line and a scatter plot of time_since_first_purchase vs. has_churned
sns.regplot(x="time_since_first_purchase",
            y="has_churned",
            data=churn,
            ci=None,
            logistic=True,
            line_kws={"color": "blue"})

# Show the plot
plt.show()
```
<img src="https://user-images.githubusercontent.com/51888893/211807763-b69e3c44-da41-4c4c-ae44-7d1f02637d76.png" width=400px>

# Logistic regression with logit()
```py
# Import logit
from statsmodels.formula.api import logit

# Fit a logistic regression of churn vs. length of relationship using the churn dataset
mdl_churn_vs_relationship = logit("has_churned ~ time_since_first_purchase", data= churn).fit()

# Print the parameters of the fitted model
print(mdl_churn_vs_relationship.params)
'''
Intercept                   -0.015
time_since_first_purchase   -0.35
'''
```
# Probabilities
```py
# Create prediction_data
prediction_data = explanatory_data.assign(
  has_churned = mdl_churn_vs_relationship.predict(explanatory_data)
)

# Print the head
print(prediction_data.head())
```
```py
# Create prediction_data
prediction_data = explanatory_data.assign(
    has_churned = mdl_churn_vs_relationship.predict(explanatory_data)
)

fig = plt.figure()

# Create a scatter plot with logistic trend line
sns.regplot(x="time_since_first_purchase",
            y="has_churned",
            data=churn,
            ci=None,
            logistic=True)

# Overlay with prediction_data, colored red
sns.scatterplot(x="time_since_first_purchase",
                y="has_churned",
                data=prediction_data,
                color="red")

# Show the plot
plt.show()
```
<img src="https://user-images.githubusercontent.com/51888893/211818062-4696cca6-564f-490c-b797-86a7b211bc4b.png" width=400px>
